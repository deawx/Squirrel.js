!function(a,b,c,d){a.extend(a.fn,{squirrel:function(c,e){e=a.extend(a.fn.squirrel.options,e),c="undefined"!=typeof c?c:"init";var f=function(c,d,f){f="undefined"!=typeof f?f:null;var g="local"===e.storage_method.toLowerCase()?b.localStorage:b.sessionStorage,h=JSON.parse(g.getItem(c)),i={};return null===h&&(h={}),null!==f&&(i[d]=f,h=a.extend(h,i),g.setItem(c,JSON.stringify(h))),null!==h&&"undefined"!=typeof h[d]?h[d]:null},g=function(a){"local"===e.storage_method.toLowerCase()?localStorage.removeItem(a):sessionStorage.removeItem(a)};return this.each(function(){if("undefined"!=typeof b.sessionStorage&&"undefined"!=typeof b.localStorage){var h=a(this),i=h.attr("data-squirrel")?h.data("squirrel"):e.storage_key;"clear"===c.toLowerCase()?g(i):(h.find("input[type=color][name], input[type=date][name], input[type=datetime][name], input[type=datetime-local], input[type=email][name], input[type=month][name], input[type=number][name], input[type=range][name], input[type=search][name], input[type=tel][name], input[type=text][name], input[type=time][name], input[type=url][name], input[type=week][name], textarea[name]").each(function(){var b=a(this),c=f(i,b.attr("name"));null!==c&&!b.is("[readonly]")&&b.is(":enabled")&&b.val()!==c&&b.val(c).trigger("change")}),h.find("select[name]").each(function(){var b=a(this),c=f(i,b.attr("name"));null!==c&&a.each("object"!=typeof c?[c]:c,function(c,d){b.find("option").filter(function(){var b=a(this);return b.val()===d||b.html()===d}).prop("selected",!0).trigger("change")})}),h.find("input[type=radio][name]").each(function(){var b=a(this),c=f(i,b.attr("name"));null!==c&&c!==this.checked&&(this.checked=b.val()===c,b.trigger("change"))}),h.find("input[type=checkbox][name]").each(function(){var b=a(this),c=b.attr("value");"string"!=typeof c&&(c="");var d=f(i,b.attr("name")+c);null!==d&&d!==this.checked&&(this.checked=d===!0,b.trigger("change"))}),h.find("input[type!=file]:not(.squirrel-ignore), select:not(.squirrel-ignore), textarea:not(.squirrel-ignore)").on("blur keyup change",function(){var b=a(this),c="checkbox"===this.type&&b.attr("value")!==d?b.attr("name")+b.attr("value"):b.attr("name");f(i,c,"checkbox"===this.type?b.prop("checked"):b.val())}),h.find("button[type=reset], input[type=reset]").click(function(){g(i)}),h.submit(function(){e.clear_on_submit&&g(i)}))}})}}),a.fn.squirrel.options={clear_on_submit:!0,storage_method:"session",storage_key:"squirrel"}}(jQuery,window,document),$(function(){$("form.squirrel, form[data-squirrel]").squirrel()});