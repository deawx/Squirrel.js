!function(e,t){function r(r,n,i,a){var s=e.JSON.parse(r.getItem(n));if(null===s&&(s={}),o(a)||null===a)return o(s[i])?null:s[i];var u={};return u[i]=a,t.extend(s,u),r.setItem(n,e.JSON.stringify(s)),a}function n(e,t){e.removeItem(t)}function i(e){return"boolean"===t.type(e)}function a(e){return"object"===t.type(e)}function s(e){return"string"===t.type(e)&&t.trim(e).length>0}function o(e){return void 0===e}function u(e,t){return s(e)?e:t}t.fn.extend({squirrel:function(h,d){d=t.extend({},t.fn.squirrel.options,d),d.clearOnSubmit=d.clear_on_submit,d.storageMethod=d.storage_method,d.storageKey=d.storage_key,d.storageKeyPrefix=d.storage_key_prefix;var p=null;if(s(d.storageMethod)?p="LOCAL"===d.storageMethod.toUpperCase()?e.localStorage:e.sessionStorage:null!==d.storageMethod&&a(d.storageMethod)&&(p=d.storageMethod),null===p||!(a(p)&&"getItem"in p&&"removeItem"in p&&"setItem"in p))return this;h=s(h)&&g.test(h)?h.toUpperCase():"START";var m="input[type!=file]:not(.squirrel-ignore), select:not(.squirrel-ignore), textarea:not(.squirrel-ignore)",y="button[type=reset], input[type=reset]",v="input[id], input[name], select[id], select[name], textarea[id], textarea[name]";return d.storageKey=u(d.storageKey,"squirrel"),d.storageKeyPrefix=u(d.storageKeyPrefix,""),this.each(function(){var e=t(this),a=e.attr("data-squirrel"),u=d.storageKeyPrefix+(s(a)?a:d.storageKey);switch(h){case"CLEAR":case"REMOVE":n(p,u);break;case"OFF":case"STOP":e.find(m).off(c),e.find(y).off(l),e.off(f);break;default:e.find("*").filter(v).each(function(){var n=t(this),i=n.attr("name");if(o(i)&&(i=n.attr("id"),o(i)))return e;var a=null;switch(this.tagName){case"INPUT":case"TEXTAREA":var l=n.attr("type");if("checkbox"===l){var c=n.attr("value");s(c)||(c=""),a=r(p,u,i+c),null!==a&&a!==this.checked&&(this.checked=a===!0,n.trigger("change"))}else"radio"===l?(a=r(p,u,i),null!==a&&a!==this.checked&&(this.checked=n.val()===a,n.trigger("change"))):(a=r(p,u,i),null!==a&&!n.is("[readonly]")&&n.is(":enabled")&&n.val()!==a&&n.val(a).trigger("change"));break;case"SELECT":a=r(p,u,i),null!==a&&t.each(t.isArray(a)?a:[a],function(e,r){n.find("option").filter(function(){var e=t(this);return e.val()===r||e.html()===r}).prop("selected",!0).trigger("change")})}}),e.find(m).on(c,function(){var e=t(this),n=e.attr("name");if(!o(n)||(n=e.attr("id"),!o(n))){var i=e.attr("value"),a="checkbox"!==this.type||o(i)?n:n+i;r(p,u,a,"checkbox"===this.type?e.prop("checked"):e.val())}}),e.find(y).on(l,function(){n(p,u)}),e.on(f,function(){(!i(d.clearOnSubmit)||d.clearOnSubmit)&&n(p,u)})}})}});var l="click.squirrel.js",c="blur.squirrel.js keyup.squirrel.js change.squirrel.js",f="submit.squirrel.js",g=/^(?:CLEAR|REMOVE|OFF|STOP)$/i;t.fn.squirrel.options={clear_on_submit:!0,storage_method:"session",storage_key:"squirrel",storage_key_prefix:""},t(function(){t("form.squirrel, form[data-squirrel]").squirrel()})}(window,window.jQuery);