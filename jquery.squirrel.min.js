!function(e,t,r){function i(r,i,n,s){var a=e.JSON.parse(r.getItem(i));if(null===a&&(a={}),u(s)||null===s)return u(a[n])?null:a[n];var o={};return o[n]=s,t.extend(a,o),r.setItem(i,e.JSON.stringify(a)),s}function n(e,t){e.removeItem(t)}function s(e){return"boolean"===t.type(e)}function a(e){return"object"===t.type(e)}function o(e){return"string"===t.type(e)&&e.trim().length>0}function u(e){return e===r}function l(e,t){return o(e)?e:t}t.fn.extend({squirrel:function(r,f){f=t.extend({},t.fn.squirrel.options,f),f.clearOnSubmit=f.clear_on_submit,f.storageMethod=f.storage_method,f.storageKey=f.storage_key,f.storageKeyPrefix=f.storage_key_prefix;var g=null;if(o(f.storageMethod)?g="LOCAL"===f.storageMethod.toUpperCase()?e.localStorage:e.sessionStorage:null!==f.storageMethod&&a(f.storageMethod)&&(g=f.storageMethod),null===g||!(a(g)&&"getItem"in g&&"removeItem"in g&&"setItem"in g))return this;r=o(r)&&c.ACTION.test(r)?r.toUpperCase():"START";var h="input[type!=file]:not(.squirrel-ignore), select:not(.squirrel-ignore), textarea:not(.squirrel-ignore)",d="button[type=reset], input[type=reset]",p="input[id], input[name], select[id], select[name], textarea[id], textarea[name]";return f.storageKey=l(f.storageKey,"squirrel"),f.storageKeyPrefix=l(f.storageKeyPrefix,""),this.each(function(){var e=t(this),a=e.attr("data-squirrel"),l=f.storageKeyPrefix+(o(a)?a:f.storageKey);switch(r){case"CLEAR":case"REMOVE":n(g,l);break;case"OFF":case"STOP":e.find(h).off("blur.squirrel.js keyup.squirrel.js change.squirrel.js"),e.find(d).off("click.squirrel.js"),e.off("submit.squirrel.js");break;default:e.find("*").filter(p).each(function(){var r=t(this),n=r.attr("name");if(u(n)&&(n=r.attr("id"),u(n)))return e;var s=null;switch(this.tagName){case"INPUT":case"TEXTAREA":var a=r.attr("type");if("checkbox"===a){var c=r.attr("value");o(c)||(c=""),s=i(g,l,n+c),null!==s&&s!==this.checked&&(this.checked=s===!0,r.trigger("change"))}else"radio"===a?(s=i(g,l,n),null!==s&&s!==this.checked&&(this.checked=r.val()===s,r.trigger("change"))):(s=i(g,l,n),null!==s&&!r.is("[readonly]")&&r.is(":enabled")&&r.val()!==s&&r.val(s).trigger("change"));break;case"SELECT":s=i(g,l,n),null!==s&&t.each(t.isArray(s)?s:[s],function(e,i){r.find("option").filter(function(){var e=t(this);return e.val()===i||e.html()===i}).prop("selected",!0).trigger("change")})}}),e.find(h).on("blur.squirrel.js keyup.squirrel.js change.squirrel.js",function(){var e=t(this),r=e.attr("name");if(!u(r)||(r=e.attr("id"),!u(r))){var n=e.attr("value"),s="checkbox"!==this.type||u(n)?r:r+n;i(g,l,s,"checkbox"===this.type?e.prop("checked"):e.val())}}),e.find(d).on("click.squirrel.js",function(){n(g,l)}),e.on("submit.squirrel.js",function(){(!s(f.clearOnSubmit)||f.clearOnSubmit)&&n(g,l)})}})}});var c={ACTION:/^(?:CLEAR|REMOVE|OFF|STOP)$/i};t.fn.squirrel.options={clear_on_submit:!0,storage_method:"session",storage_key:"squirrel",storage_key_prefix:""},t(function(){t("form.squirrel, form[data-squirrel]").squirrel()})}(this,this.jQuery);