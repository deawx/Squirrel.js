!function(a,b,c,d){function e(b,c,d,e){var f=JSON.parse(b.getItem(c));if(null===f&&(f={}),j(e)||null===e)return j(f[d])?null:f[d];var g={};return g[d]=e,a.extend(f,g),b.setItem(c,JSON.stringify(f)),e}function f(a,b){a.removeItem(b)}function g(b){return"boolean"===a.type(b)}function h(b){return"object"===a.type(b)}function i(b){return"string"===a.type(b)&&b.trim().length>0}function j(a){return a===d}function k(a,b){return i(a)?a:b}a.fn.extend({squirrel:function(c,d){d=a.extend({},a.fn.squirrel.options,d);var l=null;if(i(d.storage_method)?l="LOCAL"===d.storage_method.toUpperCase()?b.localStorage:b.sessionStorage:null!==d.storage_method&&h(d.storage_method)&&(l=d.storage_method),null===l||!(h(l)&&"getItem"in l&&"removeItem"in l&&"setItem"in l))return this;c=i(c)&&/^(?:CLEAR|REMOVE|OFF|STOP)$/i.test(c)?c.toUpperCase():"START";var m="input[type!=file]:not(.squirrel-ignore), select:not(.squirrel-ignore), textarea:not(.squirrel-ignore)",n="button[type=reset], input[type=reset]",o="input[id], input[name], select[id], select[name], textarea[id], textarea[name]";return d.storage_key=k(d.storage_key,"squirrel"),d.storage_key_prefix=k(d.storage_key_prefix,""),this.each(function(){var b=a(this),h=b.attr("data-squirrel"),k=d.storage_key_prefix+(i(h)?h:d.storage_key);switch(c){case"CLEAR":case"REMOVE":f(l,k);break;case"OFF":case"STOP":b.find(m).off("blur.squirrel.js keyup.squirrel.js change.squirrel.js"),b.find(n).off("click.squirrel.js"),b.off("submit.squirrel.js");break;default:b.find("*").filter(o).each(function(){var c=a(this),d=c.attr("name"),f=null;if(j(d)&&(d=c.attr("id"),j(d)))return b;switch(this.tagName){case"INPUT":case"TEXTAREA":var g=c.attr("type");if("checkbox"===g){var h=c.attr("value");i(h)||(h=""),f=e(l,k,d+h),null!==f&&f!==this.checked&&(this.checked=f===!0,c.trigger("change"))}else"radio"===g?(f=e(l,k,d),null!==f&&f!==this.checked&&(this.checked=c.val()===f,c.trigger("change"))):(f=e(l,k,d),null!==f&&!c.is("[readonly]")&&c.is(":enabled")&&c.val()!==f&&c.val(f).trigger("change"));break;case"SELECT":f=e(l,k,d),null!==f&&a.each(a.isArray(f)?f:[f],function(b,d){c.find("option").filter(function(){var b=a(this);return b.val()===d||b.html()===d}).prop("selected",!0).trigger("change")})}}),b.find(m).on("blur.squirrel.js keyup.squirrel.js change.squirrel.js",function(){var b=a(this),c=b.attr("name");if(!j(c)||(c=b.attr("id"),!j(c))){var d=b.attr("value"),f="checkbox"!==this.type||j(d)?c:c+d;e(l,k,f,"checkbox"===this.type?b.prop("checked"):b.val())}}),b.find(n).on("click.squirrel.js",function(){f(l,k)}),b.on("submit.squirrel.js",function(){(!g(d.clear_on_submit)||d.clear_on_submit)&&f(l,k)})}})}}),a.fn.squirrel.options={clear_on_submit:!0,storage_method:"session",storage_key:"squirrel",storage_key_prefix:""},a(function(){a("form.squirrel, form[data-squirrel]").squirrel()})}(jQuery,window,document);