!function(a,b,c,d){a.fn.extend({squirrel:function(c,e){e=a.extend({},a.fn.squirrel.options,e);var f="string"==typeof e.storage_method&&"LOCAL"===e.storage_method.toUpperCase()?b.localStorage:b.sessionStorage;if("undefined"==typeof f)return a(this);var g=function(b,c,d){var e=JSON.parse(f.getItem(b));if(null===e&&(e={}),"undefined"==typeof d||null===d)return"undefined"!=typeof e[c]?e[c]:null;var g={};return g[c]=d,a.extend(e,g),f.setItem(b,JSON.stringify(e)),d},h=function(a){f.removeItem(a)};c="string"==typeof c&&/^(?:CLEAR|STOP)$/i.test(c)?c.toUpperCase():"START";var i="input[type!=file]:not(.squirrel-ignore), select:not(.squirrel-ignore), textarea:not(.squirrel-ignore)",j="button[type=reset], input[type=reset]",k="input[id], input[name], select[id], select[name], textarea[id], textarea[name]";return this.each(function(){var b=a(this),f=b.attr("data-squirrel"),l=f?f:e.storage_key;switch(c){case"CLEAR":h(l);break;case"STOP":b.find(i).off("blur.squirrel.js keyup.squirrel.js change.squirrel.js"),b.find(j).off("click.squirrel.js"),b.off("submit.squirrel.js");break;default:b.find("*").filter(k).each(function(){var b=a(this),c=b.attr("name"),e=null;if(c!==d||(c=b.attr("id"),c!==d))switch(this.tagName){case"INPUT":case"TEXTAREA":var f=b.attr("type");if("checkbox"===f){var h=b.attr("value");"string"!=typeof h&&(h=""),e=g(l,c+h),null!==e&&e!==this.checked&&(this.checked=e===!0,b.trigger("change"))}else"radio"===f?(e=g(l,c),null!==e&&e!==this.checked&&(this.checked=b.val()===e,b.trigger("change"))):(e=g(l,c),null!==e&&!b.is("[readonly]")&&b.is(":enabled")&&b.val()!==e&&b.val(e).trigger("change"));break;case"SELECT":e=g(l,c),null!==e&&a.each("object"!=typeof e?[e]:e,function(c,d){b.find("option").filter(function(){var b=a(this);return b.val()===d||b.html()===d}).prop("selected",!0).trigger("change")})}}),b.find(i).on("blur.squirrel.js keyup.squirrel.js change.squirrel.js",function(){var b=a(this),c=b.attr("name");if(c!==d||(c=b.attr("id"),c!==d)){var e=b.attr("value"),f="checkbox"===this.type&&e!==d?c+e:c;g(l,f,"checkbox"===this.type?b.prop("checked"):b.val())}}),b.find(j).on("click.squirrel.js",function(){h(l)}),b.on("submit.squirrel.js",function(){("boolean"!=typeof e.clear_on_submit||e.clear_on_submit)&&h(l)})}})}}),a.fn.squirrel.options={clear_on_submit:!0,storage_method:"session",storage_key:"squirrel"}}(jQuery,window,document),$(function(){$("form.squirrel, form[data-squirrel]").squirrel()});