!function(e,t,r,i){function n(t,r,i,n){var s=JSON.parse(t.getItem(r));if(null===s&&(s={}),l(n)||null===n)return l(s[i])?null:s[i];var a={};return a[i]=n,e.extend(s,a),t.setItem(r,JSON.stringify(s)),n}function s(e,t){e.removeItem(t)}function a(t){return"boolean"===e.type(t)}function o(t){return"object"===e.type(t)}function u(t){return"string"===e.type(t)&&t.trim().length>0}function l(e){return e===i}function c(e,t){return u(e)?e:t}e.fn.extend({squirrel:function(r,i){i=e.extend({},e.fn.squirrel.options,i);var f=null;if(u(i.storage_method)?f="LOCAL"===i.storage_method.toUpperCase()?t.localStorage:t.sessionStorage:null!==i.storage_method&&o(i.storage_method)&&(f=i.storage_method),null===f||!(o(f)&&"getItem"in f&&"removeItem"in f&&"setItem"in f))return this;r=u(r)&&/^(?:CLEAR|REMOVE|OFF|STOP)$/i.test(r)?r.toUpperCase():"START";var h="input[type!=file]:not(.squirrel-ignore), select:not(.squirrel-ignore), textarea:not(.squirrel-ignore)",g="button[type=reset], input[type=reset]",d="input[id], input[name], select[id], select[name], textarea[id], textarea[name]";return i.storage_key=c(i.storage_key,"squirrel"),i.storage_key_prefix=c(i.storage_key_prefix,""),this.each(function(){var t=e(this),o=t.attr("data-squirrel"),c=i.storage_key_prefix+(u(o)?o:i.storage_key);switch(r){case"CLEAR":case"REMOVE":s(f,c);break;case"OFF":case"STOP":t.find(h).off("blur.squirrel.js keyup.squirrel.js change.squirrel.js"),t.find(g).off("click.squirrel.js"),t.off("submit.squirrel.js");break;default:t.find("*").filter(d).each(function(){var r=e(this),i=r.attr("name");if(l(i)&&(i=r.attr("id"),l(i)))return t;var s=null;switch(this.tagName){case"INPUT":case"TEXTAREA":var a=r.attr("type");if("checkbox"===a){var o=r.attr("value");u(o)||(o=""),s=n(f,c,i+o),null!==s&&s!==this.checked&&(this.checked=s===!0,r.trigger("change"))}else"radio"===a?(s=n(f,c,i),null!==s&&s!==this.checked&&(this.checked=r.val()===s,r.trigger("change"))):(s=n(f,c,i),null!==s&&!r.is("[readonly]")&&r.is(":enabled")&&r.val()!==s&&r.val(s).trigger("change"));break;case"SELECT":s=n(f,c,i),null!==s&&e.each(e.isArray(s)?s:[s],function(t,i){r.find("option").filter(function(){var t=e(this);return t.val()===i||t.html()===i}).prop("selected",!0).trigger("change")})}}),t.find(h).on("blur.squirrel.js keyup.squirrel.js change.squirrel.js",function(){var t=e(this),r=t.attr("name");if(!l(r)||(r=t.attr("id"),!l(r))){var i=t.attr("value"),s="checkbox"!==this.type||l(i)?r:r+i;n(f,c,s,"checkbox"===this.type?t.prop("checked"):t.val())}}),t.find(g).on("click.squirrel.js",function(){s(f,c)}),t.on("submit.squirrel.js",function(){(!a(i.clear_on_submit)||i.clear_on_submit)&&s(f,c)})}})}}),e.fn.squirrel.options={clear_on_submit:!0,storage_method:"session",storage_key:"squirrel",storage_key_prefix:""},e(function(){e("form.squirrel, form[data-squirrel]").squirrel()})}(jQuery,window,document);