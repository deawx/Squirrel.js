!function(a,b,c,d){a.fn.extend({squirrel:function(c,h){h=a.extend({},a.fn.squirrel.options,h);var i=null;if("string"==typeof h.storage_method?i="LOCAL"===h.storage_method.toUpperCase()?b.localStorage:b.sessionStorage:null!==h.storage_method&&"object"==typeof h.storage_method&&(i=h.storage_method),null===i||!("object"==typeof i&&"getItem"in i&&"removeItem"in i&&"setItem"in i))return this;c="string"==typeof c&&/^(?:CLEAR|REMOVE|OFF|STOP)$/i.test(c)?c.toUpperCase():"START";var j="input[type!=file]:not(.squirrel-ignore), select:not(.squirrel-ignore), textarea:not(.squirrel-ignore)",k="button[type=reset], input[type=reset]",l="input[id], input[name], select[id], select[name], textarea[id], textarea[name]";return h.storage_key=g(h.storage_key,"squirrel"),h.storage_key_prefix=g(h.storage_key_prefix,""),this.each(function(){var b=a(this),g=b.attr("data-squirrel"),m=h.storage_key_prefix+(g?g:h.storage_key);switch(c){case"CLEAR":case"REMOVE":f(i,m);break;case"OFF":case"STOP":b.find(j).off("blur.squirrel.js keyup.squirrel.js change.squirrel.js"),b.find(k).off("click.squirrel.js"),b.off("submit.squirrel.js");break;default:b.find("*").filter(l).each(function(){var b=a(this),c=b.attr("name"),f=null;if(c!==d||(c=b.attr("id"),c!==d))switch(this.tagName){case"INPUT":case"TEXTAREA":var g=b.attr("type");if("checkbox"===g){var h=b.attr("value");"string"!=typeof h&&(h=""),f=e(i,m,c+h),null!==f&&f!==this.checked&&(this.checked=f===!0,b.trigger("change"))}else"radio"===g?(f=e(i,m,c),null!==f&&f!==this.checked&&(this.checked=b.val()===f,b.trigger("change"))):(f=e(i,m,c),null!==f&&!b.is("[readonly]")&&b.is(":enabled")&&b.val()!==f&&b.val(f).trigger("change"));break;case"SELECT":f=e(i,m,c),null!==f&&a.each("object"!=typeof f?[f]:f,function(c,d){b.find("option").filter(function(){var b=a(this);return b.val()===d||b.html()===d}).prop("selected",!0).trigger("change")})}}),b.find(j).on("blur.squirrel.js keyup.squirrel.js change.squirrel.js",function(){var b=a(this),c=b.attr("name");if(c!==d||(c=b.attr("id"),c!==d)){var f=b.attr("value"),g="checkbox"===this.type&&f!==d?c+f:c;e(i,m,g,"checkbox"===this.type?b.prop("checked"):b.val())}}),b.find(k).on("click.squirrel.js",function(){f(i,m)}),b.on("submit.squirrel.js",function(){("boolean"!=typeof h.clear_on_submit||h.clear_on_submit)&&f(i,m)})}})}});var e=function(b,c,d,e){var f=JSON.parse(b.getItem(c));if(null===f&&(f={}),"undefined"==typeof e||null===e)return"undefined"!=typeof f[d]?f[d]:null;var g={};return g[d]=e,a.extend(f,g),b.setItem(c,JSON.stringify(f)),e},f=function(a,b){a.removeItem(b)},g=function(a,b){return"string"==typeof a&&a.trim().length>0?a:b};a.fn.squirrel.options={clear_on_submit:!0,storage_method:"session",storage_key:"squirrel",storage_key_prefix:""}}(jQuery,window,document),$(function(){$("form.squirrel, form[data-squirrel]").squirrel()});